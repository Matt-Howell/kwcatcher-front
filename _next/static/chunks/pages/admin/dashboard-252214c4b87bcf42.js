(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9189],{72833:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/dashboard",function(){return s(71009)}])},71009:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var n=s(85893),i=s(9008),r=s.n(i),a=s(57350),o=s(204),c=s(14418),l=s(88911),d=s(97822),h=s(29379),m=s(5902),p=s(38267),x=s(28129),f=s(61507),j=s(29222),u=s(36354),y=s(36557),g=s(24304),w=s(36526),b=s(75421),k=s(28650),C=s(577),T=s(67294),_=s(75297),D=s(96082),A=s(93414),M=s(11163);function S(){let e=(0,M.useRouter)(),t=(0,a.p)(),s=(0,T.useRef)(),i=(0,T.useRef)();(0,T.useEffect)(()=>{(async()=>{if(!(await A.O.auth.getSession()).data.session){let s="redir-toast";t.isActive(s)||t({id:s,title:"Redirecting...",description:"Sign in to use Keyword Catcher.",status:"warning",position:"top-end",duration:7500,isClosable:!0}),e.push("/sign-in")}(await A.O.auth.getSession()).data.session.user.email;{let s="redir-toast";t.isActive(s)||t({id:s,title:"Redirecting...",description:"You do not have permission to access this page.",status:"error",position:"top-end",duration:7500,isClosable:!0}),e.push("/app")}})()},[]);let S="#4A5568",F="#fafafa",[v,I]=(0,T.useState)(),[z,U]=(0,T.useState)([]),[W,E]=(0,T.useState)(0),[K,O]=(0,T.useState)(0),[R,X]=(0,T.useState)([]),[N,Z]=(0,T.useState)([]),[L,P]=(0,T.useState)([]);async function Y(e){let t=await fetch(e);return t.json()}return(0,T.useEffect)(()=>{(async()=>{let{data:{user:e}}=await A.O.auth.getUser();I(e.user_metadata.credits),Y("https://api.valueserp.com/account?api_key=57A1364A491A4F10B27A5FF9BA00A54C").then(e=>{E(e.account_info.usage_history[0].credits_total_for_month)});let{data:t,error:s}=await A.O.from("reports").select("seed").gt("created_at",new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().slice(0,19).replace("T"," "));O(t.length);let{data:n,error:i}=await A.O.from("reports").select("userID, seed, created_at").order("created_at",{ascending:!1}).range(0,9);X([...n]),Y("https://payments.keywordcatcher.com/get-users?type=all").then(e=>{Z(e)}),Y("https://payments.keywordcatcher.com/get-users?type=paid").then(e=>{P(e)})})()},[]),(0,n.jsxs)("div",{children:[(0,n.jsxs)(r(),{children:[(0,n.jsx)("link",{rel:"canonical",href:"https://keywordcatcher.com/admin/dashboard"}),(0,n.jsx)("title",{children:"Admin - Keyword Catcher"}),(0,n.jsx)("meta",{name:"description",content:"Welcome back - here you can see what is happening with Keyword Catcher!"}),(0,n.jsx)("meta",{name:"twitter:title",content:"Admin - Keyword Catcher"}),(0,n.jsx)("meta",{name:"twitter:description",content:"Welcome back - here you can see what is happening with Keyword Catcher!"}),(0,n.jsx)("meta",{name:"twitter:image",content:"https://keywordcatcher.com/s/i/KWCatcher-512.png"}),(0,n.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,n.jsx)("meta",{property:"twitter:url",content:"https://keywordcatcher.com/admin/dashboard"}),(0,n.jsx)("meta",{property:"og:title",content:"Admin - Keyword Catcher"}),(0,n.jsx)("meta",{property:"og:description",content:"Welcome back - here you can see what is happening with Keyword Catcher!"}),(0,n.jsx)("meta",{property:"og:image",content:"https://keywordcatcher.com/s/i/KWCatcher-512.png"}),(0,n.jsx)("meta",{property:"og:url",content:"https://keywordcatcher.com/admin/dashboard"}),(0,n.jsx)("meta",{name:"robots",content:"index, follow"}),(0,n.jsx)("meta",{name:"googlebot",content:"index, follow, max-image-preview:large"}),(0,n.jsx)("meta",{content:"yes",name:"apple-mobile-web-app-capable"}),(0,n.jsx)("meta",{name:"apple-mobile-web-app-status-bar-style",content:"white-translucent"}),(0,n.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"https://keywordcatcher.com/s/i/apple-touch-icon.png"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico",sizes:"any"}),(0,n.jsx)("link",{rel:"manifest",href:"https://keywordcatcher.com/s/i/site.webmanifest"}),(0,n.jsx)("meta",{name:"msapplication-TileColor",content:"#ffffff"}),(0,n.jsx)("meta",{name:"theme-color",content:"#ffffff"}),(0,n.jsx)("meta",{property:"og:locale",content:"en_US"}),(0,n.jsx)("meta",{charSet:"utf-8"}),(0,n.jsx)("meta",{httpEquiv:"x-ua-compatible",content:"ie=edge"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}),(0,n.jsx)("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"}),(0,n.jsx)("script",{async:!0,src:"https://www.googletagmanager.com/gtag/js?id=UA-265580185-1"}),(0,n.jsx)("script",{dangerouslySetInnerHTML:{__html:"window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            gtag('js', new Date());\n\n            gtag('config', 'UA-265580185-1');"}}),(0,n.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,n.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:!0}),(0,n.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600&display=swap",rel:"stylesheet"})]}),(0,n.jsx)(_.Z,{userCredits:v}),(0,n.jsx)(o.k,{as:"main",mx:"auto",mt:6,px:5,children:(0,n.jsxs)(o.k,{flexDirection:"column",w:"100%",minHeight:"100vh",mx:"auto",maxWidth:"1000px",children:[(0,n.jsx)(o.k,{mt:3,alignItems:"center",justifyContent:"space-between",mb:4,children:(0,n.jsxs)(o.k,{flexDirection:"column",maxWidth:{base:200,md:500},children:[(0,n.jsx)(c.X,{fontSize:"xl",fontWeight:400,fontFamily:"'Montserrat', sans-serif!important",children:"Admin Dashboard"}),(0,n.jsx)(l.x,{fontSize:"xs",mt:2,opacity:.9,fontWeight:400,fontFamily:"'Montserrat', sans-serif!important",children:"Welcome back - here you can see what is happening with Keyword Catcher!"})]})}),(0,n.jsx)(d.i,{mb:4}),(0,n.jsx)(h.Z,{mb:4,backgroundColor:F,children:(0,n.jsxs)(m.e,{justifyContent:"space-between",flexDirection:"row",display:"flex",pt:4,children:[(0,n.jsx)(c.X,{color:S,size:"sm",fontFamily:"'Montserrat', sans-serif!important",alignItems:"center",display:"flex",children:"SERPs Analyzed"}),(0,n.jsx)(o.k,{flexDirection:"column",children:(0,n.jsxs)(l.x,{color:S,children:[W," (This Month)"]})})]})}),(0,n.jsx)(h.Z,{mb:4,backgroundColor:F,children:(0,n.jsxs)(m.e,{justifyContent:"space-between",flexDirection:"row",display:"flex",pt:4,children:[(0,n.jsx)(c.X,{color:S,size:"sm",fontFamily:"'Montserrat', sans-serif!important",alignItems:"center",display:"flex",children:"Reports Created"}),(0,n.jsx)(o.k,{flexDirection:"column",children:(0,n.jsxs)(l.x,{color:S,children:[K," (This Month)"]})})]})}),(0,n.jsx)(h.Z,{mb:4,backgroundColor:F,children:(0,n.jsxs)(m.e,{justifyContent:"space-between",flexDirection:"column",display:"flex",pt:4,children:[(0,n.jsx)(c.X,{color:S,size:"sm",fontFamily:"'Montserrat', sans-serif!important",alignItems:"center",display:"flex",children:"Add Credits"}),(0,n.jsxs)(o.k,{mt:4,flexDirection:"column",children:[(0,n.jsx)(p.NI,{children:(0,n.jsx)(x.I,{ref:s,placeholder:"User email address"})}),(0,n.jsx)(p.NI,{mt:3,children:(0,n.jsx)(f.Y2,{children:(0,n.jsx)(f.zu,{ref:i,placeholder:"Number of Credits"})})}),(0,n.jsx)(j.z,{mt:3,onClick:async()=>{let e=s.current.value,n=i.current.value;Y("http://localhost:8080/add-credits?number=".concat(n,"&email=").concat(e)).then(s=>{t({title:"Added Credits",description:"".concat(e," now has ").concat(s.credits," credits."),status:"success",position:"top-end",duration:7500,isClosable:!0})})},children:"Add Credits"})]})]})}),(0,n.jsx)(h.Z,{mb:4,backgroundColor:F,children:(0,n.jsxs)(m.e,{justifyContent:"space-between",flexDirection:"column",display:"flex",pt:4,children:[(0,n.jsx)(c.X,{color:S,size:"sm",fontFamily:"'Montserrat', sans-serif!important",alignItems:"center",display:"flex",children:"Recent Reports"}),(0,n.jsx)(o.k,{mt:4,flexDirection:"column",children:(0,n.jsx)(u.x,{children:(0,n.jsxs)(y.i,{variant:"simple",children:[(0,n.jsx)(g.h,{children:(0,n.jsxs)(w.Tr,{fontWeight:600,children:[(0,n.jsx)(b.Th,{fontFamily:"'Montserrat', sans-serif!important",children:"Date"}),(0,n.jsx)(b.Th,{fontFamily:"'Montserrat', sans-serif!important",children:"Keyword"}),(0,n.jsx)(b.Th,{fontFamily:"'Montserrat', sans-serif!important",children:"User ID"})]})}),(0,n.jsx)(k.p,{children:R.map((e,t)=>(0,n.jsxs)(w.Tr,{children:[(0,n.jsx)(C.Td,{children:new Date(e.created_at).toLocaleDateString("en-US")}),(0,n.jsx)(C.Td,{children:e.seed}),(0,n.jsx)(C.Td,{children:e.userID})]},t))})]})})})]})}),(0,n.jsx)(h.Z,{mb:4,backgroundColor:F,children:(0,n.jsxs)(m.e,{justifyContent:"space-between",flexDirection:"column",display:"flex",pt:4,children:[(0,n.jsx)(c.X,{color:S,size:"sm",fontFamily:"'Montserrat', sans-serif!important",alignItems:"center",display:"flex",children:"All Users"}),(0,n.jsx)(o.k,{mt:4,flexDirection:"column",children:(0,n.jsx)(u.x,{children:(0,n.jsxs)(y.i,{variant:"simple",children:[(0,n.jsx)(g.h,{children:(0,n.jsxs)(w.Tr,{fontWeight:600,children:[(0,n.jsx)(b.Th,{fontFamily:"'Montserrat', sans-serif!important",children:"User ID"}),(0,n.jsx)(b.Th,{fontFamily:"'Montserrat', sans-serif!important",children:"User Email"})]})}),(0,n.jsx)(k.p,{children:N.map((e,t)=>(0,n.jsxs)(w.Tr,{children:[(0,n.jsx)(C.Td,{children:e.id}),(0,n.jsx)(C.Td,{children:e.email})]},t))})]})})})]})}),(0,n.jsx)(h.Z,{mb:4,backgroundColor:F,children:(0,n.jsxs)(m.e,{justifyContent:"space-between",flexDirection:"column",display:"flex",pt:4,children:[(0,n.jsx)(c.X,{color:S,size:"sm",fontFamily:"'Montserrat', sans-serif!important",alignItems:"center",display:"flex",children:"Paid Users"}),(0,n.jsx)(o.k,{mt:4,flexDirection:"column",children:(0,n.jsx)(u.x,{children:(0,n.jsxs)(y.i,{variant:"simple",children:[(0,n.jsx)(g.h,{children:(0,n.jsxs)(w.Tr,{fontWeight:600,children:[(0,n.jsx)(b.Th,{fontFamily:"'Montserrat', sans-serif!important",children:"User ID"}),(0,n.jsx)(b.Th,{fontFamily:"'Montserrat', sans-serif!important",children:"User Email"})]})}),(0,n.jsx)(k.p,{children:L.map((e,t)=>(0,n.jsxs)(w.Tr,{children:[(0,n.jsx)(C.Td,{children:e.id}),(0,n.jsx)(C.Td,{children:e.email})]},t))})]})})})]})})]})}),(0,n.jsx)(D.Z,{})]})}}},function(e){e.O(0,[5937,5445,1228,9866,9243,5850,8055,702,6702,6082,5297,9774,2888,179],function(){return e(e.s=72833)}),_N_E=e.O()}]);